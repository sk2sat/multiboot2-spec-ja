### 1.6 どのようにしてOSの開発を簡単にするか

OSイメージは簡単に生成できなければなりません．
理想的には，OSイメージはOSで普通に使われている一般的な32bitの実行可能ファイルであるべきです．
OSイメージは通常の実行ファイルと同様に，
nm(オブジェクトファイルのシンボルをリストアップするコマンド)
またはディスアセンブルが可能でなければなりません．
特殊なファイルフォーマットのOSイメージを作るために，特殊なツールが必要とされるべきではありません．
これがOSからブートローダにシフトして動作することを意味するのであれば，それはおそらく適切です．
何故なら，ブートローダによって使用される全てのメモリは通常，ブートプロセスの作成後に再度使用可能になる一方で，
OSイメージの全てのコードは通常メモリに存在し続ける必要があるからです．
オペレーティングシステムは，最初に32bitモードに遷移することについて考えるべきではありません．
何故なら，一般的に，オペレーティングシステムのデータを1MB境界を超えてロードするために，
モード遷移のコードはなんだかんだでブートローダ内に必要になるからです．
そして，オペレーティングシステムに強制的にこれをさせると，OSイメージを作ることははるかに難しくなります．

残念ながら，フリーのUnixライクなPCベースのOSであっても，恐ろしいほどに多様な実行形式ファイルフォーマットが存在します．
--そして，一般的にそのフォーマットはオペレーティングシステム毎に異なります．
ほとんどの関連するオペレーティングシステムはa.outから派生したフォーマットを使用していますが，多くはELFに移行しています．
ブートローダにとって，OSイメージをロードするために，
全ての異なる実行可能ファイルフォーマットを解釈できる必要は無いことが非常に望ましいです．
さもなくば，ブートローダはオペレーティングシステム固有のものとなってしまうでしょう．

この仕様は，この問題に対する妥協的な解決策を採用しています．
マルチブート2準拠のOSイメージは常にマルチブート2ヘッダを含みます(OSイメージフォーマットを参照すること)．
これはブートローダに，
たくさんのa.out変種やその他の実行可能フォーマットを理解することなく，イメージをロードすることを許可します．
このヘッダは実行可能ファイルの先頭にある必要はありません．
そのため，カーネルイメージは引き続き，
ローカルのa.outフォーマット変種に適合するだけでなくマルチブート2に準拠することができます．
